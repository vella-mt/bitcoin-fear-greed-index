import streamlit as st
from libraries.plots import *
import pandas as pd
import plotly.graph_objects as go
from libraries.data import *

dataset = getData()
addFeatures(dataset)

# Date range selection
st.header("Date Range Selection")
date_range = st.date_input("Select Date Range", 
                           [dataset['timestamp'].min().date(), dataset['timestamp'].max().date()],
                           min_value=dataset['timestamp'].min().date(),
                           max_value=dataset['timestamp'].max().date())

if len(date_range) == 2:
    start_date, end_date = pd.to_datetime(date_range)
    dataset = dataset[(dataset['timestamp'] >= start_date) & (dataset['timestamp'] <= end_date)]

# Title
st.title("Fear Greed Index Charts")

print(dataset(0))